var Ut=Object.defineProperty;var Rt=(n,e,t)=>e in n?Ut(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Pe=(n,e,t)=>Rt(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function x(){}function Pt(n){return n()}function $e(){return Object.create(null)}function Q(n){n.forEach(Pt)}function It(n){return typeof n=="function"}function De(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function Kt(n){return Object.keys(n).length===0}function l(n,e){n.appendChild(e)}function j(n,e,t){n.insertBefore(e,t||null)}function N(n){n.parentNode&&n.parentNode.removeChild(n)}function Te(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function p(n){return document.createElement(n)}function Ie(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function A(n){return document.createTextNode(n)}function k(){return A(" ")}function Se(){return A("")}function L(n,e,t,s){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t,s)}function u(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function oe(n){return n===""?null:+n}function Wt(n){return Array.from(n.childNodes)}function W(n,e){e=""+e,n.data!==e&&(n.data=e)}function ne(n,e){n.value=e??""}function et(n,e,t,s){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function tt(n,e,t){for(let s=0;s<n.options.length;s+=1){const i=n.options[s];if(i.__value===e){i.selected=!0;return}}n.selectedIndex=-1}function te(n,e,t){n.classList.toggle(e,!!t)}function Gt(n,e,{bubbles:t=!1,cancelable:s=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:s})}let Ce;function we(n){Ce=n}function Re(){if(!Ce)throw new Error("Function called outside component initialization");return Ce}function Ht(n){Re().$$.on_mount.push(n)}function Vt(n){Re().$$.on_destroy.push(n)}function Ke(){const n=Re();return(e,t,{cancelable:s=!1}={})=>{const i=n.$$.callbacks[e];if(i){const o=Gt(e,t,{cancelable:s});return i.slice().forEach(r=>{r.call(n,o)}),!o.defaultPrevented}return!0}}const ge=[],nt=[];let he=[];const st=[],Yt=Promise.resolve();let Fe=!1;function Zt(){Fe||(Fe=!0,Yt.then(Lt))}function Me(n){he.push(n)}const Le=new Set;let me=0;function Lt(){if(me!==0)return;const n=Ce;do{try{for(;me<ge.length;){const e=ge[me];me++,we(e),Qt(e.$$)}}catch(e){throw ge.length=0,me=0,e}for(we(null),ge.length=0,me=0;nt.length;)nt.pop()();for(let e=0;e<he.length;e+=1){const t=he[e];Le.has(t)||(Le.add(t),t())}he.length=0}while(ge.length);for(;st.length;)st.pop()();Fe=!1,Le.clear(),we(n)}function Qt(n){if(n.fragment!==null){n.update(),Q(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Me)}}function Xt(n){const e=[],t=[];he.forEach(s=>n.indexOf(s)===-1?e.push(s):t.push(s)),t.forEach(s=>s()),he=e}const ye=new Set;let de;function Je(){de={r:0,c:[],p:de}}function Ue(){de.r||Q(de.c),de=de.p}function ie(n,e){n&&n.i&&(ye.delete(n),n.i(e))}function ae(n,e,t,s){if(n&&n.o){if(ye.has(n))return;ye.add(n),de.c.push(()=>{ye.delete(n),s&&(t&&n.d(1),s())}),n.o(e)}else s&&s()}function le(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function We(n,e){n.d(1),e.delete(n.key)}function Ge(n,e,t,s,i,o,r,c,f,a,d,g){let m=n.length,h=o.length,v=m;const q={};for(;v--;)q[n[v].key]=v;const T=[],w=new Map,S=new Map,y=[];for(v=h;v--;){const D=g(i,o,v),O=t(D);let E=r.get(O);E?y.push(()=>E.p(D,e)):(E=a(O,D),E.c()),w.set(O,T[v]=E),O in q&&S.set(O,Math.abs(v-q[O]))}const B=new Set,U=new Set;function M(D){ie(D,1),D.m(c,d),r.set(D.key,D),d=D.first,h--}for(;m&&h;){const D=T[h-1],O=n[m-1],E=D.key,z=O.key;D===O?(d=D.first,m--,h--):w.has(z)?!r.has(E)||B.has(E)?M(D):U.has(z)?m--:S.get(E)>S.get(z)?(U.add(E),M(D)):(B.add(z),m--):(f(O,r),m--)}for(;m--;){const D=n[m];w.has(D.key)||f(D,r)}for(;h;)M(T[h-1]);return Q(y),T}function He(n){n&&n.c()}function Oe(n,e,t){const{fragment:s,after_update:i}=n.$$;s&&s.m(e,t),Me(()=>{const o=n.$$.on_mount.map(Pt).filter(It);n.$$.on_destroy?n.$$.on_destroy.push(...o):Q(o),n.$$.on_mount=[]}),i.forEach(Me)}function Be(n,e){const t=n.$$;t.fragment!==null&&(Xt(t.after_update),Q(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function xt(n,e){n.$$.dirty[0]===-1&&(ge.push(n),Zt(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function ze(n,e,t,s,i,o,r=null,c=[-1]){const f=Ce;we(n);const a=n.$$={fragment:null,ctx:[],props:o,update:x,not_equal:i,bound:$e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:$e(),dirty:c,skip_bound:!1,root:e.target||f.$$.root};r&&r(a.root);let d=!1;if(a.ctx=t?t(n,e.props||{},(g,m,...h)=>{const v=h.length?h[0]:m;return a.ctx&&i(a.ctx[g],a.ctx[g]=v)&&(!a.skip_bound&&a.bound[g]&&a.bound[g](v),d&&xt(n,g)),m}):[],a.update(),d=!0,Q(a.before_update),a.fragment=s?s(a.ctx):!1,e.target){if(e.hydrate){const g=Wt(e.target);a.fragment&&a.fragment.l(g),g.forEach(N)}else a.fragment&&a.fragment.c();e.intro&&ie(n.$$.fragment),Oe(n,e.target,e.anchor),Lt()}we(f)}class Ne{constructor(){Pe(this,"$$");Pe(this,"$$set")}$destroy(){Be(this,1),this.$destroy=x}$on(e,t){if(!It(t))return x;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const i=s.indexOf(t);i!==-1&&s.splice(i,1)}}$set(e){this.$$set&&!Kt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const $t="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add($t);const Ft={beep_high:{name:"Beep Hoch",frequency:1200,duration:.2},beep_medium:{name:"Beep Mittel",frequency:800,duration:.2},beep_low:{name:"Beep Tief",frequency:400,duration:.2},chime:{name:"Chime",frequency:1e3,duration:.4,wave:"sine"},bell:{name:"Glocke",frequency:1500,duration:.5,wave:"sine"},ping:{name:"Ping",frequency:2e3,duration:.15,wave:"sine"},boop:{name:"Boop",frequency:600,duration:.25,wave:"sine"},ding:{name:"Ding",frequency:1100,duration:.3,wave:"sine"},buzz_short:{name:"Buzz Kurz",frequency:900,duration:.1,wave:"square"},buzz_long:{name:"Buzz Lang",frequency:800,duration:.3,wave:"square"}},Ve={midpoint:"beep_medium",countdown:"beep_high",transition:"chime"};function Ee(n="beep_high",e=.3){try{const t=Ft[n];if(!t){console.warn(`Sound "${n}" nicht gefunden`);return}const s=new(window.AudioContext||window.webkitAudioContext),i=s.createOscillator(),o=s.createGain();i.connect(o),o.connect(s.destination),i.frequency.value=t.frequency,i.type=t.wave||"sine";const r=t.duration||.2;o.gain.setValueAtTime(e,s.currentTime),o.gain.exponentialRampToValueAtTime(.01,s.currentTime+r),i.start(s.currentTime),i.stop(s.currentTime+r)}catch(t){console.error("Audio-Fehler:",t)}}function en(){return Object.entries(Ft).map(([n,e])=>({key:n,...e}))}function lt(n,e,t){const s=n.slice();return s[32]=e[t],s[34]=t,s}function it(n){let e,t,s=n[3]+1+"",i,o,r=n[1].numberOfSets+"",c;return{c(){e=p("span"),t=A("| Set "),i=A(s),o=A("/"),c=A(r),u(e,"class","set-counter svelte-4a8tq9")},m(f,a){j(f,e,a),l(e,t),l(e,i),l(e,o),l(e,c)},p(f,a){a[0]&8&&s!==(s=f[3]+1+"")&&W(i,s),a[0]&2&&r!==(r=f[1].numberOfSets+"")&&W(c,r)},d(f){f&&N(e)}}}function rt(n){let e,t,s,i,o,r,c=n[1].warmupDuration+"",f,a;return{c(){e=p("li"),t=p("span"),t.textContent="W",s=k(),i=p("span"),i.textContent="Warm-up",o=k(),r=p("span"),f=A(c),a=A("s"),u(t,"class","queue-index svelte-4a8tq9"),u(i,"class","queue-name svelte-4a8tq9"),u(r,"class","queue-time svelte-4a8tq9"),u(e,"class","svelte-4a8tq9"),te(e,"active",n[2]==="warmup"),te(e,"completed",n[2]!=="warmup")},m(d,g){j(d,e,g),l(e,t),l(e,s),l(e,i),l(e,o),l(e,r),l(r,f),l(r,a)},p(d,g){g[0]&2&&c!==(c=d[1].warmupDuration+"")&&W(f,c),g[0]&4&&te(e,"active",d[2]==="warmup"),g[0]&4&&te(e,"completed",d[2]!=="warmup")},d(d){d&&N(e)}}}function ut(n){let e,t,s,i,o,r,c=n[1].restBetweenExercises+"",f,a;return{c(){e=p("li"),t=p("span"),t.textContent="‚è∏",s=k(),i=p("span"),i.textContent="Pause",o=k(),r=p("span"),f=A(c),a=A("s"),u(t,"class","queue-index svelte-4a8tq9"),u(i,"class","queue-name svelte-4a8tq9"),u(r,"class","queue-time svelte-4a8tq9"),u(e,"class","svelte-4a8tq9"),te(e,"active",n[2]==="rest"&&n[34]===n[0]),te(e,"completed",n[34]<n[0]),te(e,"rest-phase",!0)},m(d,g){j(d,e,g),l(e,t),l(e,s),l(e,i),l(e,o),l(e,r),l(r,f),l(r,a)},p(d,g){g[0]&2&&c!==(c=d[1].restBetweenExercises+"")&&W(f,c),g[0]&5&&te(e,"active",d[2]==="rest"&&d[34]===d[0]),g[0]&1&&te(e,"completed",d[34]<d[0])},d(d){d&&N(e)}}}function ot(n){let e,t,s,i,o,r,c=n[1].exerciseDuration+"",f,a,d,g,m=n[34]<n[10].length-1&&n[1].restBetweenExercises>0&&ut(n);return{c(){e=p("li"),t=p("span"),t.textContent=`${n[34]+1}`,s=k(),i=p("span"),i.textContent=`${n[32].name}`,o=k(),r=p("span"),f=A(c),a=A("s"),d=k(),m&&m.c(),g=Se(),u(t,"class","queue-index svelte-4a8tq9"),u(i,"class","queue-name svelte-4a8tq9"),u(r,"class","queue-time svelte-4a8tq9"),u(e,"class","svelte-4a8tq9"),te(e,"active",n[2]==="exercise"&&n[34]===n[0]),te(e,"completed",n[34]<n[0])},m(h,v){j(h,e,v),l(e,t),l(e,s),l(e,i),l(e,o),l(e,r),l(r,f),l(r,a),j(h,d,v),m&&m.m(h,v),j(h,g,v)},p(h,v){v[0]&2&&c!==(c=h[1].exerciseDuration+"")&&W(f,c),v[0]&5&&te(e,"active",h[2]==="exercise"&&h[34]===h[0]),v[0]&1&&te(e,"completed",h[34]<h[0]),h[34]<h[10].length-1&&h[1].restBetweenExercises>0?m?m.p(h,v):(m=ut(h),m.c(),m.m(g.parentNode,g)):m&&(m.d(1),m=null)},d(h){h&&(N(e),N(d),N(g)),m&&m.d(h)}}}function ct(n){let e,t,s,i,o,r,c=n[1].restBetweenSets+"",f,a;return{c(){e=p("li"),t=p("span"),t.textContent="S",s=k(),i=p("span"),i.textContent="Set-Pause",o=k(),r=p("span"),f=A(c),a=A("s"),u(t,"class","queue-index svelte-4a8tq9"),u(i,"class","queue-name svelte-4a8tq9"),u(r,"class","queue-time svelte-4a8tq9"),u(e,"class","svelte-4a8tq9"),te(e,"active",n[2]==="set-rest"),te(e,"set-rest-item",!0)},m(d,g){j(d,e,g),l(e,t),l(e,s),l(e,i),l(e,o),l(e,r),l(r,f),l(r,a)},p(d,g){g[0]&2&&c!==(c=d[1].restBetweenSets+"")&&W(f,c),g[0]&4&&te(e,"active",d[2]==="set-rest")},d(d){d&&N(e)}}}function tn(n){let e,t,s,i,o;return{c(){e=p("button"),e.textContent="‚ñ∂ Weiter",t=k(),s=p("button"),s.textContent="‚óº Stopp",u(e,"class","btn btn-start svelte-4a8tq9"),u(s,"class","btn btn-stop svelte-4a8tq9")},m(r,c){j(r,e,c),j(r,t,c),j(r,s,c),i||(o=[L(e,"click",n[15]),L(s,"click",n[16])],i=!0)},p:x,d(r){r&&(N(e),N(t),N(s)),i=!1,Q(o)}}}function nn(n){let e,t,s,i,o,r,c;return{c(){e=p("button"),e.textContent="‚è∏ Pause",t=k(),s=p("button"),s.textContent="‚è≠ Skip",i=k(),o=p("button"),o.textContent="‚óº Stopp",u(e,"class","btn btn-pause svelte-4a8tq9"),u(s,"class","btn btn-skip svelte-4a8tq9"),u(o,"class","btn btn-stop svelte-4a8tq9")},m(f,a){j(f,e,a),j(f,t,a),j(f,s,a),j(f,i,a),j(f,o,a),r||(c=[L(e,"click",n[14]),L(s,"click",n[17]),L(o,"click",n[16])],r=!0)},p:x,d(f){f&&(N(e),N(t),N(s),N(i),N(o)),r=!1,Q(c)}}}function sn(n){let e,t,s,i,o;return{c(){e=p("button"),e.textContent="‚ñ∂ Start",t=k(),s=p("button"),s.textContent="‚óº Zur√ºcksetzen",u(e,"class","btn btn-start svelte-4a8tq9"),u(s,"class","btn btn-stop svelte-4a8tq9")},m(r,c){j(r,e,c),j(r,t,c),j(r,s,c),i||(o=[L(e,"click",n[13]),L(s,"click",n[16])],i=!0)},p:x,d(r){r&&(N(e),N(t),N(s)),i=!1,Q(o)}}}function ln(n){let e,t,s,i,o,r,c,f,a,d,g,m,h,v,q=at(n[4])+"",T,w,S,y,B,U,M,D,O,E,z,_,J,P,Y,R,X,se,C=n[1].numberOfSets>1&&it(n),b=n[1].warmupDuration>0&&rt(n),I=le(n[10]),K=[];for(let F=0;F<I.length;F+=1)K[F]=ot(lt(n,I,F));let G=n[1].numberOfSets>1&&n[1].restBetweenSets>0&&ct(n);function $(F,ee){if(!F[5]&&!F[6])return sn;if(F[5])return nn;if(F[6])return tn}let ce=$(n),H=ce&&ce(n);return{c(){e=p("div"),t=p("button"),t.textContent="‚úï",s=k(),i=p("div"),o=p("h1"),r=A(n[7]),c=k(),f=p("div"),a=Ie("svg"),d=Ie("circle"),g=Ie("circle"),m=k(),h=p("div"),v=p("span"),T=A(q),w=k(),S=p("div"),y=p("span"),y.textContent=`${n[11]()}`,B=k(),U=p("span"),U.textContent=`/ ${n[12]()}`,M=k(),C&&C.c(),D=k(),O=p("div"),E=p("h3"),E.textContent="Ablauf",z=k(),_=p("ul"),b&&b.c(),J=k();for(let F=0;F<K.length;F+=1)K[F].c();P=k(),G&&G.c(),Y=k(),R=p("div"),H&&H.c(),u(t,"class","close-button svelte-4a8tq9"),u(o,"class","exercise-name svelte-4a8tq9"),u(d,"cx","50"),u(d,"cy","50"),u(d,"r","45"),u(d,"class","progress-ring-background svelte-4a8tq9"),u(g,"cx","50"),u(g,"cy","50"),u(g,"r","45"),u(g,"class","progress-ring-fill svelte-4a8tq9"),et(g,"stroke-dashoffset",282.7*(1-n[8]/100)),u(a,"viewBox","0 0 100 100"),u(a,"class","progress-ring svelte-4a8tq9"),u(v,"class","time svelte-4a8tq9"),u(h,"class","time-display svelte-4a8tq9"),u(f,"class","timer-circle svelte-4a8tq9"),u(y,"class","current svelte-4a8tq9"),u(U,"class","total"),u(S,"class","exercise-counter svelte-4a8tq9"),u(i,"class","exercise-display svelte-4a8tq9"),u(E,"class","svelte-4a8tq9"),u(_,"class","queue-list svelte-4a8tq9"),u(O,"class","exercises-queue svelte-4a8tq9"),u(R,"class","controls svelte-4a8tq9"),u(e,"class","timer-container svelte-4a8tq9")},m(F,ee){j(F,e,ee),l(e,t),l(e,s),l(e,i),l(i,o),l(o,r),l(i,c),l(i,f),l(f,a),l(a,d),l(a,g),l(f,m),l(f,h),l(h,v),l(v,T),l(i,w),l(i,S),l(S,y),l(S,B),l(S,U),l(S,M),C&&C.m(S,null),l(e,D),l(e,O),l(O,E),l(O,z),l(O,_),b&&b.m(_,null),l(_,J);for(let V=0;V<K.length;V+=1)K[V]&&K[V].m(_,null);l(_,P),G&&G.m(_,null),l(e,Y),l(e,R),H&&H.m(R,null),X||(se=L(t,"click",n[20]),X=!0)},p(F,ee){if(ee[0]&128&&W(r,F[7]),ee[0]&256&&et(g,"stroke-dashoffset",282.7*(1-F[8]/100)),ee[0]&16&&q!==(q=at(F[4])+"")&&W(T,q),F[1].numberOfSets>1?C?C.p(F,ee):(C=it(F),C.c(),C.m(S,null)):C&&(C.d(1),C=null),F[1].warmupDuration>0?b?b.p(F,ee):(b=rt(F),b.c(),b.m(_,J)):b&&(b.d(1),b=null),ee[0]&1031){I=le(F[10]);let V;for(V=0;V<I.length;V+=1){const _e=lt(F,I,V);K[V]?K[V].p(_e,ee):(K[V]=ot(_e),K[V].c(),K[V].m(_,P))}for(;V<K.length;V+=1)K[V].d(1);K.length=I.length}F[1].numberOfSets>1&&F[1].restBetweenSets>0?G?G.p(F,ee):(G=ct(F),G.c(),G.m(_,null)):G&&(G.d(1),G=null),ce===(ce=$(F))&&H?H.p(F,ee):(H&&H.d(1),H=ce&&ce(F),H&&(H.c(),H.m(R,null)))},i:x,o:x,d(F){F&&N(e),C&&C.d(),b&&b.d(),Te(K,F),G&&G.d(),H&&H.d(),X=!1,se()}}}function at(n){const e=Math.floor(n/60),t=n%60;return`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`}function rn(n,e,t){let s,i,{training:o}=e,{soundConfig:r={}}=e;const c=Ke();let f=o.exercises,a=o.settings;a.numberOfSets||(a.numberOfSets=1),a.restBetweenSets||(a.restBetweenSets=0);let d=a.warmupDuration>0?"warmup":"exercise",g=0,m=0,h=a.warmupDuration>0?a.warmupDuration:a.exerciseDuration,v=!1,q=!1,T,w=!1,S="";function y(){return d==="warmup"?"Warm-up":d==="exercise"?s&&s.name?s.name:"√úbung":d==="rest"?"Pause":d==="set-rest"?"Set-Pause":d==="finished"?"Training beendet":"Training"}function B(){let b=0,I=0;switch(d){case"warmup":b=a.warmupDuration,I=a.warmupDuration-h;break;case"exercise":b=a.exerciseDuration,I=a.exerciseDuration-h;break;case"rest":b=a.restBetweenExercises,I=a.restBetweenExercises-h;break;case"set-rest":b=a.restBetweenSets,I=a.restBetweenSets-h;break}return b===0?0:I/b*100}function U(){let b=0;if(a.warmupDuration>0){if(d==="warmup")return 1;b=1}return d==="exercise"||d==="rest"?b+g+1:d==="set-rest"?b+f.length+(a.restBetweenExercises>0?f.length-1:0)+m:b+1}function M(){let b=f.length*a.numberOfSets;return a.warmupDuration>0&&b++,a.restBetweenExercises>0&&(b+=(f.length-1)*a.numberOfSets),a.restBetweenSets>0&&a.numberOfSets>1&&(b+=a.numberOfSets-1),b}function D(){switch(d){case"warmup":return a.warmupDuration;case"exercise":return a.exerciseDuration;case"rest":return a.restBetweenExercises;case"set-rest":return a.restBetweenSets;default:return 0}}function O(){t(5,v=!0),t(6,q=!1),w=!1,T=setInterval(()=>{if(t(4,h--,h),h>=0){let b=D(),I=Math.round(b/2);h===I&&!w&&(Y(),w=!0),h<=2&&h>=0&&R()}h<0&&E()},1e3)}function E(){X(),w=!1,d==="warmup"?(t(2,d="exercise"),t(0,g=0),t(3,m=0),t(4,h=a.exerciseDuration)):d==="exercise"?g<f.length-1&&a.restBetweenExercises>0?(t(2,d="rest"),t(4,h=a.restBetweenExercises)):g<f.length-1?(t(0,g++,g),t(2,d="exercise"),t(4,h=a.exerciseDuration)):m<a.numberOfSets-1&&a.restBetweenSets>0?(t(2,d="set-rest"),t(4,h=a.restBetweenSets)):m<a.numberOfSets-1?(t(3,m++,m),t(0,g=0),t(2,d="exercise"),t(4,h=a.exerciseDuration)):(t(2,d="finished"),t(4,h=0),t(5,v=!1),clearInterval(T),setTimeout(()=>{se()},1e3)):d==="rest"?(t(0,g++,g),t(2,d="exercise"),t(4,h=a.exerciseDuration)):d==="set-rest"&&(t(3,m++,m),t(0,g=0),t(2,d="exercise"),t(4,h=a.exerciseDuration)),t(7,S=y())}function z(){t(5,v=!1),t(6,q=!0),clearInterval(T)}function _(){t(5,v=!0),t(6,q=!1),O()}function J(){t(5,v=!1),t(6,q=!1),clearInterval(T),t(2,d=a.warmupDuration>0?"warmup":"exercise"),t(0,g=0),t(3,m=0),t(4,h=a.warmupDuration>0?a.warmupDuration:a.exerciseDuration),w=!1}function P(){E()}function Y(){Ee(r.midpoint||"beep_medium",.3)}function R(){Ee(r.countdown||"beep_high",.25)}function X(){Ee(r.transition||"chime",.3)}function se(){c("back")}Vt(()=>{clearInterval(T)});const C=()=>c("back");return n.$$set=b=>{"training"in b&&t(18,o=b.training),"soundConfig"in b&&t(19,r=b.soundConfig)},n.$$.update=()=>{n.$$.dirty[0]&1&&(s=f[g])},t(8,i=B()),t(7,S=y()),[g,a,d,m,h,v,q,S,i,c,f,U,M,O,z,_,J,P,o,r,C]}class un extends Ne{constructor(e){super(),ze(this,e,rn,ln,De,{training:18,soundConfig:19},null,[-1,-1])}}function ft(n,e,t){const s=n.slice();return s[31]=e[t],s[33]=t,s}function on(n){let e,t,s,i,o=n[0].name+"",r,c,f,a;function d(h,v){return h[4]?fn:an}let g=d(n),m=g(n);return{c(){e=p("div"),t=p("button"),t.textContent="‚Üê Zur√ºck",s=k(),i=p("h2"),r=A(o),c=k(),m.c(),u(t,"class","back-button svelte-111h5l9"),u(i,"class","svelte-111h5l9"),u(e,"class","training-detail svelte-111h5l9")},m(h,v){j(h,e,v),l(e,t),l(e,s),l(e,i),l(i,r),l(e,c),m.m(e,null),f||(a=L(t,"click",n[14]),f=!0)},p(h,v){v[0]&1&&o!==(o=h[0].name+"")&&W(r,o),g===(g=d(h))&&m?m.p(h,v):(m.d(1),m=g(h),m&&(m.c(),m.m(e,null)))},i:x,o:x,d(h){h&&N(e),m.d(),f=!1,a()}}}function cn(n){let e,t;return e=new un({props:{training:n[0],soundConfig:n[1]}}),e.$on("back",n[17]),{c(){He(e.$$.fragment)},m(s,i){Oe(e,s,i),t=!0},p(s,i){const o={};i[0]&1&&(o.training=s[0]),i[0]&2&&(o.soundConfig=s[1]),e.$set(o)},i(s){t||(ie(e.$$.fragment,s),t=!0)},o(s){ae(e.$$.fragment,s),t=!1},d(s){Be(e,s)}}}function an(n){let e,t,s,i,o,r,c,f,a,d,g,m,h;function v(w,S){return w[0].exercises.length===0?dn:pn}let q=v(n),T=q(n);return{c(){e=p("div"),t=p("div"),s=p("h3"),s.textContent="√úbungen",i=k(),o=p("button"),o.textContent="‚öôÔ∏è",r=k(),T.c(),c=k(),f=p("div"),a=p("input"),d=k(),g=p("button"),g.textContent="+ √úbung hinzuf√ºgen",u(s,"class","svelte-111h5l9"),u(o,"class","settings-button svelte-111h5l9"),u(o,"title","Einstellungen"),u(t,"class","section-header svelte-111h5l9"),u(a,"type","text"),u(a,"placeholder","√úbungsnamen eingeben"),u(a,"class","input svelte-111h5l9"),u(g,"class","btn-primary svelte-111h5l9"),u(f,"class","add-exercise-form svelte-111h5l9"),u(e,"class","exercises-section")},m(w,S){j(w,e,S),l(e,t),l(t,s),l(t,i),l(t,o),l(e,r),T.m(e,null),l(e,c),l(e,f),l(f,a),ne(a,n[2]),l(f,d),l(f,g),m||(h=[L(o,"click",n[16]),L(a,"input",n[29]),L(g,"click",n[7])],m=!0)},p(w,S){q===(q=v(w))&&T?T.p(w,S):(T.d(1),T=q(w),T&&(T.c(),T.m(e,c))),S[0]&4&&a.value!==w[2]&&ne(a,w[2])},d(w){w&&N(e),T.d(),m=!1,Q(h)}}}function fn(n){let e,t,s,i,o,r,c,f,a,d=n[0].settings.exerciseDuration+"",g,m,h,v,q,T,w,S,y,B=n[0].settings.restBetweenExercises+"",U,M,D,O,E,z,_,J,P,Y=n[0].settings.warmupDuration+"",R,X,se,C,b,I,K,G,$,ce,H,F=n[0].settings.numberOfSets+"",ee,V,_e,fe,be,Ye,ue,Ze,ve,qe=n[0].settings.restBetweenSets+"",je,Qe,Xe,ke,Ae,xe;return{c(){e=p("div"),t=p("h3"),t.textContent="‚öôÔ∏è Trainings-Einstellungen",s=k(),i=p("div"),o=p("label"),o.textContent="√úbungsdauer (Sekunden)",r=k(),c=p("input"),f=k(),a=p("span"),g=A(d),m=A("s"),h=k(),v=p("div"),q=p("label"),q.textContent="Pause zwischen √úbungen (Sekunden)",T=k(),w=p("input"),S=k(),y=p("span"),U=A(B),M=A("s"),D=k(),O=p("div"),E=p("label"),E.textContent="Warm-up vor erster √úbung (Sekunden)",z=k(),_=p("input"),J=k(),P=p("span"),R=A(Y),X=A("s"),se=k(),C=p("div"),b=k(),I=p("div"),K=p("label"),K.textContent="Anzahl der Sets",G=k(),$=p("input"),ce=k(),H=p("span"),ee=A(F),V=A("x"),_e=k(),fe=p("div"),be=p("label"),be.textContent="Pause zwischen Sets (Sekunden)",Ye=k(),ue=p("input"),Ze=k(),ve=p("span"),je=A(qe),Qe=A("s"),Xe=k(),ke=p("button"),ke.textContent="Schlie√üen",u(t,"class","svelte-111h5l9"),u(o,"for","exercise-duration"),u(o,"class","svelte-111h5l9"),u(c,"id","exercise-duration"),u(c,"type","number"),u(c,"min","5"),u(c,"max","300"),u(c,"class","input-number svelte-111h5l9"),u(a,"class","current-value svelte-111h5l9"),u(i,"class","setting-item svelte-111h5l9"),u(q,"for","rest-between"),u(q,"class","svelte-111h5l9"),u(w,"id","rest-between"),u(w,"type","number"),u(w,"min","0"),u(w,"max","120"),u(w,"class","input-number svelte-111h5l9"),u(y,"class","current-value svelte-111h5l9"),u(v,"class","setting-item svelte-111h5l9"),u(E,"for","warmup"),u(E,"class","svelte-111h5l9"),u(_,"id","warmup"),u(_,"type","number"),u(_,"min","0"),u(_,"max","120"),u(_,"class","input-number svelte-111h5l9"),u(P,"class","current-value svelte-111h5l9"),u(O,"class","setting-item svelte-111h5l9"),u(C,"class","divider svelte-111h5l9"),u(K,"for","number-of-sets"),u(K,"class","svelte-111h5l9"),u($,"id","number-of-sets"),u($,"type","number"),u($,"min","1"),u($,"max","10"),u($,"class","input-number svelte-111h5l9"),u(H,"class","current-value svelte-111h5l9"),u(I,"class","setting-item svelte-111h5l9"),u(be,"for","rest-between-sets"),u(be,"class","svelte-111h5l9"),u(ue,"id","rest-between-sets"),u(ue,"type","number"),u(ue,"min","0"),u(ue,"max","300"),u(ue,"class","input-number svelte-111h5l9"),u(ve,"class","current-value svelte-111h5l9"),u(fe,"class","setting-item svelte-111h5l9"),u(ke,"class","btn-secondary svelte-111h5l9"),u(e,"class","settings-panel svelte-111h5l9")},m(Z,re){j(Z,e,re),l(e,t),l(e,s),l(e,i),l(i,o),l(i,r),l(i,c),ne(c,n[0].settings.exerciseDuration),l(i,f),l(i,a),l(a,g),l(a,m),l(e,h),l(e,v),l(v,q),l(v,T),l(v,w),ne(w,n[0].settings.restBetweenExercises),l(v,S),l(v,y),l(y,U),l(y,M),l(e,D),l(e,O),l(O,E),l(O,z),l(O,_),ne(_,n[0].settings.warmupDuration),l(O,J),l(O,P),l(P,R),l(P,X),l(e,se),l(e,C),l(e,b),l(e,I),l(I,K),l(I,G),l(I,$),ne($,n[0].settings.numberOfSets),l(I,ce),l(I,H),l(H,ee),l(H,V),l(e,_e),l(e,fe),l(fe,be),l(fe,Ye),l(fe,ue),ne(ue,n[0].settings.restBetweenSets),l(fe,Ze),l(fe,ve),l(ve,je),l(ve,Qe),l(e,Xe),l(e,ke),Ae||(xe=[L(c,"input",n[18]),L(w,"input",n[19]),L(_,"input",n[20]),L($,"input",n[21]),L(ue,"input",n[22]),L(ke,"click",n[16])],Ae=!0)},p(Z,re){re[0]&1&&oe(c.value)!==Z[0].settings.exerciseDuration&&ne(c,Z[0].settings.exerciseDuration),re[0]&1&&d!==(d=Z[0].settings.exerciseDuration+"")&&W(g,d),re[0]&1&&oe(w.value)!==Z[0].settings.restBetweenExercises&&ne(w,Z[0].settings.restBetweenExercises),re[0]&1&&B!==(B=Z[0].settings.restBetweenExercises+"")&&W(U,B),re[0]&1&&oe(_.value)!==Z[0].settings.warmupDuration&&ne(_,Z[0].settings.warmupDuration),re[0]&1&&Y!==(Y=Z[0].settings.warmupDuration+"")&&W(R,Y),re[0]&1&&oe($.value)!==Z[0].settings.numberOfSets&&ne($,Z[0].settings.numberOfSets),re[0]&1&&F!==(F=Z[0].settings.numberOfSets+"")&&W(ee,F),re[0]&1&&oe(ue.value)!==Z[0].settings.restBetweenSets&&ne(ue,Z[0].settings.restBetweenSets),re[0]&1&&qe!==(qe=Z[0].settings.restBetweenSets+"")&&W(je,qe)},d(Z){Z&&N(e),Ae=!1,Q(xe)}}}function pn(n){let e,t,s,i,o=n[0].exercises.length+"",r,c,f,a,d,g=n[0].exercises.length*n[0].settings.exerciseDuration+"",m,h,v,q,T,w=n[0].settings.numberOfSets+"",S,y,B=n[0].settings.numberOfSets!==1?"s":"",U,M,D,O,E=[],z=new Map,_,J,P,Y,R=n[0].settings.warmupDuration>0&&pt(n),X=le(n[0].exercises);const se=C=>C[31].id;for(let C=0;C<X.length;C+=1){let b=ft(n,X,C),I=se(b);z.set(I,E[C]=gt(I,b))}return{c(){e=p("div"),t=p("p"),s=p("span"),i=p("strong"),r=A(o),c=A(" √úbungen"),f=k(),a=p("span"),d=p("strong"),m=A(g),h=A("s pro Set"),v=k(),q=p("span"),T=p("strong"),S=A(w),y=A(" Set"),U=A(B),M=k(),R&&R.c(),D=k(),O=p("ul");for(let C=0;C<E.length;C+=1)E[C].c();_=k(),J=p("button"),J.textContent="‚ñ∂ Timer starten",u(i,"class","svelte-111h5l9"),u(s,"class","info-item svelte-111h5l9"),u(d,"class","svelte-111h5l9"),u(a,"class","info-item svelte-111h5l9"),u(T,"class","svelte-111h5l9"),u(q,"class","info-item svelte-111h5l9"),u(t,"class","summary-info svelte-111h5l9"),u(O,"class","exercises-list svelte-111h5l9"),u(e,"class","exercises-summary svelte-111h5l9"),u(J,"class","btn-start-timer svelte-111h5l9")},m(C,b){j(C,e,b),l(e,t),l(t,s),l(s,i),l(i,r),l(s,c),l(t,f),l(t,a),l(a,d),l(d,m),l(a,h),l(t,v),l(t,q),l(q,T),l(T,S),l(q,y),l(q,U),l(t,M),R&&R.m(t,null),l(e,D),l(e,O);for(let I=0;I<E.length;I+=1)E[I]&&E[I].m(O,null);j(C,_,b),j(C,J,b),P||(Y=L(J,"click",n[15]),P=!0)},p(C,b){b[0]&1&&o!==(o=C[0].exercises.length+"")&&W(r,o),b[0]&1&&g!==(g=C[0].exercises.length*C[0].settings.exerciseDuration+"")&&W(m,g),b[0]&1&&w!==(w=C[0].settings.numberOfSets+"")&&W(S,w),b[0]&1&&B!==(B=C[0].settings.numberOfSets!==1?"s":"")&&W(U,B),C[0].settings.warmupDuration>0?R?R.p(C,b):(R=pt(C),R.c(),R.m(t,null)):R&&(R.d(1),R=null),b[0]&16225&&(X=le(C[0].exercises),E=Ge(E,b,se,1,C,X,z,O,We,gt,null,ft))},d(C){C&&(N(e),N(_),N(J)),R&&R.d();for(let b=0;b<E.length;b+=1)E[b].d();P=!1,Y()}}}function dn(n){let e;return{c(){e=p("p"),e.textContent="Keine √úbungen hinzugef√ºgt. F√ºge die erste √úbung hinzu!",u(e,"class","empty svelte-111h5l9")},m(t,s){j(t,e,s)},p:x,d(t){t&&N(e)}}}function pt(n){let e,t,s=n[0].settings.warmupDuration+"",i,o;return{c(){e=p("span"),t=p("strong"),i=A(s),o=A("s Warm-up"),u(t,"class","svelte-111h5l9"),u(e,"class","info-item svelte-111h5l9")},m(r,c){j(r,e,c),l(e,t),l(t,i),l(e,o)},p(r,c){c[0]&1&&s!==(s=r[0].settings.warmupDuration+"")&&W(i,s)},d(r){r&&N(e)}}}function mn(n){let e,t,s,i=n[31].name+"",o,r,c,f=n[0].settings.exerciseDuration+"",a,d,g,m,h,v,q,T,w,S,y,B;function U(){return n[24](n[31])}let M=n[33]>0&&dt(n),D=n[33]<n[0].exercises.length-1&&mt(n);function O(){return n[27](n[31])}function E(){return n[28](n[31])}return{c(){e=p("li"),t=p("div"),s=p("span"),o=A(i),r=k(),c=p("span"),a=A(f),d=A("s"),g=k(),m=p("div"),M&&M.c(),h=k(),D&&D.c(),v=k(),q=p("button"),q.textContent="‚úèÔ∏è",T=k(),w=p("button"),w.textContent="üóëÔ∏è",S=k(),u(s,"class","exercise-name svelte-111h5l9"),u(c,"class","exercise-duration svelte-111h5l9"),u(t,"class","exercise-info svelte-111h5l9"),u(q,"class","edit-btn svelte-111h5l9"),u(q,"title","Bearbeiten"),u(w,"class","delete-btn svelte-111h5l9"),u(w,"title","L√∂schen"),u(m,"class","exercise-actions svelte-111h5l9"),u(e,"class","exercise-item svelte-111h5l9")},m(z,_){j(z,e,_),l(e,t),l(t,s),l(s,o),l(t,r),l(t,c),l(c,a),l(c,d),l(e,g),l(e,m),M&&M.m(m,null),l(m,h),D&&D.m(m,null),l(m,v),l(m,q),l(m,T),l(m,w),l(e,S),y||(B=[L(s,"click",U),L(q,"click",O),L(w,"click",E)],y=!0)},p(z,_){n=z,_[0]&1&&i!==(i=n[31].name+"")&&W(o,i),_[0]&1&&f!==(f=n[0].settings.exerciseDuration+"")&&W(a,f),n[33]>0?M?M.p(n,_):(M=dt(n),M.c(),M.m(m,h)):M&&(M.d(1),M=null),n[33]<n[0].exercises.length-1?D?D.p(n,_):(D=mt(n),D.c(),D.m(m,v)):D&&(D.d(1),D=null)},d(z){z&&N(e),M&&M.d(),D&&D.d(),y=!1,Q(B)}}}function gn(n){let e,t,s,i,o,r,c,f,a;return{c(){e=p("li"),t=p("input"),s=k(),i=p("button"),i.textContent="‚úì",o=k(),r=p("button"),r.textContent="‚úï",c=k(),u(t,"type","text"),t.value=n[6],u(t,"class","exercise-name-input svelte-111h5l9"),t.autofocus=!0,u(i,"class","btn-save-exercise svelte-111h5l9"),u(r,"class","btn-cancel-exercise svelte-111h5l9"),u(e,"class","exercise-item editing svelte-111h5l9")},m(d,g){j(d,e,g),l(e,t),l(e,s),l(e,i),l(e,o),l(e,r),l(e,c),t.focus(),f||(a=[L(t,"input",n[23]),L(i,"click",n[9]),L(r,"click",n[10])],f=!0)},p(d,g){g[0]&64&&t.value!==d[6]&&(t.value=d[6])},d(d){d&&N(e),f=!1,Q(a)}}}function dt(n){let e,t,s;function i(){return n[25](n[33])}return{c(){e=p("button"),e.textContent="‚Üë",u(e,"class","move-btn svelte-111h5l9"),u(e,"title","Nach oben verschieben")},m(o,r){j(o,e,r),t||(s=L(e,"click",i),t=!0)},p(o,r){n=o},d(o){o&&N(e),t=!1,s()}}}function mt(n){let e,t,s;function i(){return n[26](n[33])}return{c(){e=p("button"),e.textContent="‚Üì",u(e,"class","move-btn svelte-111h5l9"),u(e,"title","Nach unten verschieben")},m(o,r){j(o,e,r),t||(s=L(e,"click",i),t=!0)},p(o,r){n=o},d(o){o&&N(e),t=!1,s()}}}function gt(n,e){let t,s;function i(c,f){return c[5]===c[31].id?gn:mn}let o=i(e),r=o(e);return{key:n,first:null,c(){t=Se(),r.c(),s=Se(),this.first=t},m(c,f){j(c,t,f),r.m(c,f),j(c,s,f)},p(c,f){e=c,o===(o=i(e))&&r?r.p(e,f):(r.d(1),r=o(e),r&&(r.c(),r.m(s.parentNode,s)))},d(c){c&&(N(t),N(s)),r.d(c)}}}function hn(n){let e,t,s,i;const o=[cn,on],r=[];function c(f,a){return f[3]?0:1}return e=c(n),t=r[e]=o[e](n),{c(){t.c(),s=Se()},m(f,a){r[e].m(f,a),j(f,s,a),i=!0},p(f,a){let d=e;e=c(f),e===d?r[e].p(f,a):(Je(),ae(r[d],1,1,()=>{r[d]=null}),Ue(),t=r[e],t?t.p(f,a):(t=r[e]=o[e](f),t.c()),ie(t,1),t.m(s.parentNode,s))},i(f){i||(ie(t),i=!0)},o(f){ae(t),i=!1},d(f){f&&N(s),r[e].d(f)}}}function _n(n,e,t){let{training:s}=e,{soundConfig:i={}}=e;const o=Ke();let r="",c=!1,f=!1,a=null,d="";s.settings?(s.settings.numberOfSets||(s.settings.numberOfSets=1),s.settings.restBetweenSets||(s.settings.restBetweenSets=30)):s.settings={exerciseDuration:30,restBetweenExercises:15,warmupDuration:10,numberOfSets:1,restBetweenSets:30};function g(){r.trim()&&(t(0,s.exercises=[...s.exercises,{id:Date.now(),name:r}],s),t(2,r=""))}function m(C,b){t(5,a=C),t(6,d=b)}function h(){if(d.trim()){const C=s.exercises.find(b=>b.id===a);C&&(C.name=d.trim(),t(0,s),o("update"))}t(5,a=null),t(6,d="")}function v(){t(5,a=null),t(6,d="")}function q(C){t(0,s.exercises=s.exercises.filter(b=>b.id!==C),s)}function T(C){if(C>0){const b=s.exercises[C];t(0,s.exercises[C]=s.exercises[C-1],s),t(0,s.exercises[C-1]=b,s),t(0,s),o("update")}}function w(C){if(C<s.exercises.length-1){const b=s.exercises[C];t(0,s.exercises[C]=s.exercises[C+1],s),t(0,s.exercises[C+1]=b,s),t(0,s),o("update")}}function S(){t(4,f=!1),o("back")}function y(){t(3,c=!0)}function B(){t(4,f=!f)}const U=()=>t(3,c=!1);function M(){s.settings.exerciseDuration=oe(this.value),t(0,s)}function D(){s.settings.restBetweenExercises=oe(this.value),t(0,s)}function O(){s.settings.warmupDuration=oe(this.value),t(0,s)}function E(){s.settings.numberOfSets=oe(this.value),t(0,s)}function z(){s.settings.restBetweenSets=oe(this.value),t(0,s)}const _=C=>t(6,d=C.target.value),J=C=>m(C.id,C.name),P=C=>T(C),Y=C=>w(C),R=C=>m(C.id,C.name),X=C=>q(C.id);function se(){r=this.value,t(2,r)}return n.$$set=C=>{"training"in C&&t(0,s=C.training),"soundConfig"in C&&t(1,i=C.soundConfig)},[s,i,r,c,f,a,d,g,m,h,v,q,T,w,S,y,B,U,M,D,O,E,z,_,J,P,Y,R,X,se]}class bn extends Ne{constructor(e){super(),ze(this,e,_n,hn,De,{training:0,soundConfig:1},null,[-1,-1])}}function ht(n,e,t){const s=n.slice();return s[9]=e[t],s}function _t(n,e,t){const s=n.slice();return s[12]=e[t][0],s[13]=e[t][1],s}function bt(n,e,t){const s=n.slice();return s[9]=e[t],s}function vt(n,e,t){const s=n.slice();return s[9]=e[t],s}function vn(n){let e;return{c(){e=A("‚û°Ô∏è Phasenwechsel")},m(t,s){j(t,e,s)},d(t){t&&N(e)}}}function kn(n){let e;return{c(){e=A("‚è±Ô∏è Countdown (letzte 3 Sekunden)")},m(t,s){j(t,e,s)},d(t){t&&N(e)}}}function wn(n){let e;return{c(){e=A("üéØ Mitte des Timer-Items")},m(t,s){j(t,e,s)},d(t){t&&N(e)}}}function kt(n){let e,t=n[9].name+"",s;return{c(){e=p("option"),s=A(t),e.__value=n[9].key,ne(e,e.__value)},m(i,o){j(i,e,o),l(e,s)},p:x,d(i){i&&N(e)}}}function wt(n){let e,t,s,i;return{c(){e=p("div"),t=p("span"),t.textContent=`üéµ ${n[9].frequency} Hz`,s=k(),i=p("span"),i.textContent=`‚è±Ô∏è ${n[9].duration}s`,u(t,"class","freq svelte-1j8rrmx"),u(i,"class","duration svelte-1j8rrmx"),u(e,"class","sound-info svelte-1j8rrmx")},m(o,r){j(o,e,r),l(e,t),l(e,s),l(e,i)},p:x,d(o){o&&N(e)}}}function St(n){let e,t=n[9].key===n[0].soundConfig[n[12]]&&wt(n);return{c(){t&&t.c(),e=Se()},m(s,i){t&&t.m(s,i),j(s,e,i)},p(s,i){s[9].key===s[0].soundConfig[s[12]]?t?t.p(s,i):(t=wt(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(s){s&&N(e),t&&t.d(s)}}}function Ct(n,e){let t,s,i,o,r,c,f,a,d,g,m,h,v,q;function T(E,z){if(E[12]==="midpoint")return wn;if(E[12]==="countdown")return kn;if(E[12]==="transition")return vn}let w=T(e),S=w&&w(e),y=le(e[1]),B=[];for(let E=0;E<y.length;E+=1)B[E]=kt(vt(e,y,E));function U(...E){return e[5](e[12],...E)}function M(){return e[6](e[12])}let D=le(e[1]),O=[];for(let E=0;E<D.length;E+=1)O[E]=St(bt(e,D,E));return{key:n,first:null,c(){t=p("div"),s=p("label"),S&&S.c(),o=k(),r=p("div"),c=p("select");for(let E=0;E<B.length;E+=1)B[E].c();d=k(),g=p("button"),g.textContent="‚ñ∂",m=k();for(let E=0;E<O.length;E+=1)O[E].c();h=k(),u(s,"for",i="sound-"+e[12]),u(s,"class","setting-label svelte-1j8rrmx"),u(c,"id",f="sound-"+e[12]),u(c,"class","sound-select svelte-1j8rrmx"),u(g,"class","play-button svelte-1j8rrmx"),u(g,"title","Vorschau"),u(r,"class","sound-control svelte-1j8rrmx"),u(t,"class","sound-setting svelte-1j8rrmx"),this.first=t},m(E,z){j(E,t,z),l(t,s),S&&S.m(s,null),l(t,o),l(t,r),l(r,c);for(let _=0;_<B.length;_+=1)B[_]&&B[_].m(c,null);tt(c,e[0].soundConfig[e[12]]),l(r,d),l(r,g),l(t,m);for(let _=0;_<O.length;_+=1)O[_]&&O[_].m(t,null);l(t,h),v||(q=[L(c,"change",U),L(g,"click",M)],v=!0)},p(E,z){if(e=E,w!==(w=T(e))&&(S&&S.d(1),S=w&&w(e),S&&(S.c(),S.m(s,null))),z&3&&i!==(i="sound-"+e[12])&&u(s,"for",i),z&2){y=le(e[1]);let _;for(_=0;_<y.length;_+=1){const J=vt(e,y,_);B[_]?B[_].p(J,z):(B[_]=kt(J),B[_].c(),B[_].m(c,null))}for(;_<B.length;_+=1)B[_].d(1);B.length=y.length}if(z&3&&f!==(f="sound-"+e[12])&&u(c,"id",f),z&3&&a!==(a=e[0].soundConfig[e[12]])&&tt(c,e[0].soundConfig[e[12]]),z&3){D=le(e[1]);let _;for(_=0;_<D.length;_+=1){const J=bt(e,D,_);O[_]?O[_].p(J,z):(O[_]=St(J),O[_].c(),O[_].m(t,h))}for(;_<O.length;_+=1)O[_].d(1);O.length=D.length}},d(E){E&&N(t),S&&S.d(),Te(B,E),Te(O,E),v=!1,Q(q)}}}function qt(n){let e,t,s,i,o,r,c,f,a,d,g,m,h;function v(){return n[7](n[9])}return{c(){e=p("div"),t=p("div"),t.textContent=`${n[9].name}`,s=k(),i=p("button"),o=A("‚ñ∂"),r=k(),c=p("div"),f=p("span"),f.textContent=`${n[9].frequency} Hz`,a=k(),d=p("span"),d.textContent=`${n[9].duration}s`,g=k(),u(t,"class","sound-name svelte-1j8rrmx"),u(i,"class","gallery-play-button svelte-1j8rrmx"),u(i,"title",`${n[9].frequency} Hz, ${n[9].duration}s`),u(f,"class","spec svelte-1j8rrmx"),u(d,"class","spec svelte-1j8rrmx"),u(c,"class","sound-specs svelte-1j8rrmx"),u(e,"class","sound-card svelte-1j8rrmx")},m(q,T){j(q,e,T),l(e,t),l(e,s),l(e,i),l(i,o),l(e,r),l(e,c),l(c,f),l(c,a),l(c,d),l(e,g),m||(h=L(i,"click",v),m=!0)},p(q,T){n=q},d(q){q&&N(e),m=!1,h()}}}function Sn(n){let e,t,s,i,o,r,c,f,a,d,g,m=[],h=new Map,v,q,T,w,S,y,B,U,M,D=le(Object.entries(n[0].soundConfig||{}));const O=_=>_[12];for(let _=0;_<D.length;_+=1){let J=_t(n,D,_),P=O(J);h.set(P,m[_]=Ct(P,J))}let E=le(n[1]),z=[];for(let _=0;_<E.length;_+=1)z[_]=qt(ht(n,E,_));return{c(){e=p("div"),t=p("button"),t.textContent="‚Üê Zur√ºck",s=k(),i=p("h2"),i.textContent="üîä Sound-Einstellungen",o=k(),r=p("div"),c=p("div"),f=p("h3"),f.textContent="Soundsignale konfigurieren",a=k(),d=p("p"),d.textContent="W√§hle f√ºr jedes Signal einen Ton aus und klicke auf ‚ñ∂ um ihn vorzuh√∂ren",g=k();for(let _=0;_<m.length;_+=1)m[_].c();v=k(),q=p("div"),T=p("h3"),T.textContent="Sound-Galerie",w=k(),S=p("p"),S.textContent="Alle verf√ºgbaren Sounds zum Testen",y=k(),B=p("div");for(let _=0;_<z.length;_+=1)z[_].c();u(t,"class","back-button svelte-1j8rrmx"),u(i,"class","svelte-1j8rrmx"),u(f,"class","svelte-1j8rrmx"),u(d,"class","subtitle svelte-1j8rrmx"),u(c,"class","setting-group svelte-1j8rrmx"),u(T,"class","svelte-1j8rrmx"),u(S,"class","subtitle svelte-1j8rrmx"),u(B,"class","sound-gallery svelte-1j8rrmx"),u(q,"class","setting-group svelte-1j8rrmx"),u(r,"class","settings-container svelte-1j8rrmx"),u(e,"class","app-settings svelte-1j8rrmx")},m(_,J){j(_,e,J),l(e,t),l(e,s),l(e,i),l(e,o),l(e,r),l(r,c),l(c,f),l(c,a),l(c,d),l(c,g);for(let P=0;P<m.length;P+=1)m[P]&&m[P].m(c,null);l(r,v),l(r,q),l(q,T),l(q,w),l(q,S),l(q,y),l(q,B);for(let P=0;P<z.length;P+=1)z[P]&&z[P].m(B,null);U||(M=L(t,"click",n[4]),U=!0)},p(_,[J]){if(J&15&&(D=le(Object.entries(_[0].soundConfig||{})),m=Ge(m,J,O,1,_,D,h,c,We,Ct,null,_t)),J&10){E=le(_[1]);let P;for(P=0;P<E.length;P+=1){const Y=ht(_,E,P);z[P]?z[P].p(Y,J):(z[P]=qt(Y),z[P].c(),z[P].m(B,null))}for(;P<z.length;P+=1)z[P].d(1);z.length=E.length}},i:x,o:x,d(_){_&&N(e);for(let J=0;J<m.length;J+=1)m[J].d();Te(z,_),U=!1,M()}}}function Cn(n,e,t){let{settings:s={}}=e;const i=Ke();let o=en();function r(m,h){t(0,s.soundConfig[m]=h,s),t(0,s),i("update",s)}function c(m){Ee(m,.4)}function f(){i("back")}const a=(m,h)=>r(m,h.target.value),d=m=>c(s.soundConfig[m]),g=m=>c(m.key);return n.$$set=m=>{"settings"in m&&t(0,s=m.settings)},[s,o,r,c,f,a,d,g]}class qn extends Ne{constructor(e){super(),ze(this,e,Cn,Sn,De,{settings:0})}}const Mt="hiit-trainings",Jt="hiit-app-settings";function pe(n){try{localStorage.setItem(Mt,JSON.stringify(n)),console.log("Trainings gespeichert:",n.length)}catch(e){console.error("Fehler beim Speichern:",e)}}function yn(){try{const n=localStorage.getItem(Mt);if(n){const e=JSON.parse(n);return console.log("Trainings geladen:",e.length),e}}catch(n){console.error("Fehler beim Laden:",n)}return[]}function yt(n){try{localStorage.setItem(Jt,JSON.stringify(n)),console.log("App-Settings gespeichert")}catch(e){console.error("Fehler beim Speichern der Settings:",e)}}function En(){try{const n=localStorage.getItem(Jt);if(n){const e=JSON.parse(n);return console.log("App-Settings geladen"),e}}catch(n){console.error("Fehler beim Laden der Settings:",n)}return{soundConfig:{...Ve}}}function Tn(n,e,t="hiit-data.json"){try{const s={meta:{app:"hiit-timer",version:1,exportedAt:new Date().toISOString()},settings:e||{soundConfig:{...Ve}},trainings:n||[]},i=JSON.stringify(s,null,2),o=new Blob([i],{type:"application/json"}),r=URL.createObjectURL(o),c=document.createElement("a");c.href=r,c.download=t,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(r),console.log("Alle Daten exportiert:",t)}catch(s){throw console.error("Fehler beim Export aller Daten:",s),s}}function Dn(n){return new Promise((e,t)=>{if(!n)return t(new Error("Keine Datei ausgew√§hlt"));if(n.type!=="application/json"&&!n.name.endsWith(".json"))return t(new Error("Bitte w√§hle eine JSON-Datei"));const s=new FileReader;s.onload=i=>{try{const o=JSON.parse(i.target.result);if(!o||typeof o!="object")throw new Error("Ung√ºltiges JSON-Format");const r={trainings:Array.isArray(o.trainings)?o.trainings:[],settings:o.settings&&typeof o.settings=="object"?o.settings:{soundConfig:{...Ve}}};console.log("Alle Daten importiert:",r.trainings.length,"Trainings"),e(r)}catch(o){t(new Error(`Fehler beim Importieren: ${o.message}`))}},s.onerror=()=>t(new Error("Fehler beim Lesen der Datei")),s.readAsText(n)})}function Et(n,e,t){const s=n.slice();return s[32]=e[t],s}function Tt(n){let e,t,s;return{c(){e=p("button"),e.textContent="‚öôÔ∏è",u(e,"class","settings-button svelte-1nq3z4n"),u(e,"title","Einstellungen")},m(i,o){j(i,e,o),t||(s=L(e,"click",n[17]),t=!0)},p:x,d(i){i&&N(e),t=!1,s()}}}function Dt(n){let e,t;return{c(){e=p("div"),t=A(n[5]),u(e,"class","alert alert-error svelte-1nq3z4n")},m(s,i){j(s,e,i),l(e,t)},p(s,i){i[0]&32&&W(t,s[5])},d(s){s&&N(e)}}}function Ot(n){let e,t;return{c(){e=p("div"),t=A(n[6]),u(e,"class","alert alert-success svelte-1nq3z4n")},m(s,i){j(s,e,i),l(e,t)},p(s,i){i[0]&64&&W(t,s[6])},d(s){s&&N(e)}}}function Bt(n){let e,t,s,i,o,r,c,f,a,d,g,m,h,v,q;function T(y,B){return y[0].length===0?Bn:On}let w=T(n),S=w(n);return{c(){e=p("div"),t=p("div"),s=p("button"),s.textContent="+ Neues Training",i=k(),o=p("div"),r=p("button"),c=A("üì• Exportieren"),a=k(),d=p("label"),g=A(`üì§ Importieren\r
          `),m=p("input"),h=k(),S.c(),u(s,"class","btn-primary svelte-1nq3z4n"),u(t,"class","action-buttons svelte-1nq3z4n"),u(r,"class","btn-secondary svelte-1nq3z4n"),r.disabled=f=n[0].length===0&&!n[1],u(m,"type","file"),u(m,"accept",".json"),m.hidden=!0,u(d,"class","btn-secondary import-label svelte-1nq3z4n"),u(o,"class","import-export-buttons svelte-1nq3z4n"),u(e,"class","trainings-list svelte-1nq3z4n")},m(y,B){j(y,e,B),l(e,t),l(t,s),l(e,i),l(e,o),l(o,r),l(r,c),l(o,a),l(o,d),l(d,g),l(d,m),l(e,h),S.m(e,null),v||(q=[L(s,"click",n[16]),L(r,"click",n[19]),L(m,"change",n[20])],v=!0)},p(y,B){B[0]&3&&f!==(f=y[0].length===0&&!y[1])&&(r.disabled=f),w===(w=T(y))&&S?S.p(y,B):(S.d(1),S=w(y),S&&(S.c(),S.m(e,null)))},d(y){y&&N(e),S.d(),v=!1,Q(q)}}}function On(n){let e,t=[],s=new Map,i=le(n[0]);const o=r=>r[32].id;for(let r=0;r<i.length;r+=1){let c=Et(n,i,r),f=o(c);s.set(f,t[r]=zt(f,c))}return{c(){e=p("ul");for(let r=0;r<t.length;r+=1)t[r].c();u(e,"class","svelte-1nq3z4n")},m(r,c){j(r,e,c);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null)},p(r,c){c[0]&294273&&(i=le(r[0]),t=Ge(t,c,o,1,r,i,s,e,We,zt,null,Et))},d(r){r&&N(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function Bn(n){let e;return{c(){e=p("p"),e.textContent="Keine Trainings vorhanden. Erstelle ein neues!",u(e,"class","empty svelte-1nq3z4n")},m(t,s){j(t,e,s)},p:x,d(t){t&&N(e)}}}function zn(n){let e,t,s=n[32].name+"",i,o,r,c=n[32].exercises.length+"",f,a,d,g,m,h,v,q,T,w,S;function y(){return n[24](n[32])}function B(){return n[25](n[32])}function U(){return n[26](n[32])}function M(){return n[27](n[32])}return{c(){e=p("button"),t=p("span"),i=A(s),o=k(),r=p("span"),f=A(c),a=A(" √úbungen"),d=k(),g=p("div"),m=p("button"),m.textContent="‚úèÔ∏è",h=k(),v=p("button"),v.textContent="üìã",q=k(),T=p("button"),T.textContent="üóëÔ∏è",u(t,"class","training-name svelte-1nq3z4n"),u(r,"class","exercise-count svelte-1nq3z4n"),u(e,"class","training-item svelte-1nq3z4n"),u(m,"class","action-button edit-button svelte-1nq3z4n"),u(m,"title","Training bearbeiten"),u(v,"class","action-button duplicate-button svelte-1nq3z4n"),u(v,"title","Training duplizieren"),u(T,"class","action-button delete-button svelte-1nq3z4n"),u(T,"title","Training l√∂schen"),u(g,"class","training-actions svelte-1nq3z4n")},m(D,O){j(D,e,O),l(e,t),l(t,i),l(e,o),l(e,r),l(r,f),l(r,a),j(D,d,O),j(D,g,O),l(g,m),l(g,h),l(g,v),l(g,q),l(g,T),w||(S=[L(e,"click",y),L(m,"click",B),L(v,"click",U),L(T,"click",M)],w=!0)},p(D,O){n=D,O[0]&1&&s!==(s=n[32].name+"")&&W(i,s),O[0]&1&&c!==(c=n[32].exercises.length+"")&&W(f,c)},d(D){D&&(N(e),N(d),N(g)),w=!1,Q(S)}}}function Nn(n){let e,t,s,i,o,r,c,f;return{c(){e=p("div"),t=p("input"),s=k(),i=p("button"),i.textContent="‚úì",o=k(),r=p("button"),r.textContent="‚úï",u(t,"type","text"),t.value=n[8],u(t,"class","edit-training-input svelte-1nq3z4n"),t.autofocus=!0,u(i,"class","btn-save svelte-1nq3z4n"),u(r,"class","btn-cancel svelte-1nq3z4n"),u(e,"class","edit-training-form svelte-1nq3z4n")},m(a,d){j(a,e,d),l(e,t),l(e,s),l(e,i),l(e,o),l(e,r),t.focus(),c||(f=[L(t,"input",n[23]),L(i,"click",n[11]),L(r,"click",n[12])],c=!0)},p(a,d){d[0]&256&&t.value!==a[8]&&(t.value=a[8])},d(a){a&&N(e),c=!1,Q(f)}}}function zt(n,e){let t,s;function i(c,f){return c[7]===c[32].id?Nn:zn}let o=i(e),r=o(e);return{key:n,first:null,c(){t=p("li"),r.c(),s=k(),u(t,"class","training-list-item svelte-1nq3z4n"),this.first=t},m(c,f){j(c,t,f),r.m(t,null),l(t,s)},p(c,f){e=c,o===(o=i(e))&&r?r.p(e,f):(r.d(1),r=o(e),r&&(r.c(),r.m(t,s)))},d(c){c&&N(t),r.d()}}}function Nt(n){let e,t,s,i,o,r,c,f,a,d,g;return{c(){e=p("div"),t=p("h2"),t.textContent="Neues Training erstellen",s=k(),i=p("input"),o=k(),r=p("div"),c=p("button"),c.textContent="Erstellen",f=k(),a=p("button"),a.textContent="Abbrechen",u(t,"class","svelte-1nq3z4n"),u(i,"type","text"),u(i,"placeholder","Trainingsnamen eingeben"),u(i,"class","input svelte-1nq3z4n"),i.autofocus=!0,u(c,"class","btn-primary svelte-1nq3z4n"),u(a,"class","btn-secondary svelte-1nq3z4n"),u(r,"class","button-group svelte-1nq3z4n"),u(e,"class","form-container svelte-1nq3z4n")},m(m,h){j(m,e,h),l(e,t),l(e,s),l(e,i),ne(i,n[3]),l(e,o),l(e,r),l(r,c),l(r,f),l(r,a),i.focus(),d||(g=[L(i,"input",n[28]),L(c,"click",n[9]),L(a,"click",n[15])],d=!0)},p(m,h){h[0]&8&&i.value!==m[3]&&ne(i,m[3])},d(m){m&&N(e),d=!1,Q(g)}}}function jt(n){let e,t;return e=new bn({props:{training:n[4],soundConfig:n[1].soundConfig}}),e.$on("back",n[15]),e.$on("update",n[29]),{c(){He(e.$$.fragment)},m(s,i){Oe(e,s,i),t=!0},p(s,i){const o={};i[0]&16&&(o.training=s[4]),i[0]&2&&(o.soundConfig=s[1].soundConfig),e.$set(o)},i(s){t||(ie(e.$$.fragment,s),t=!0)},o(s){ae(e.$$.fragment,s),t=!1},d(s){Be(e,s)}}}function At(n){let e,t;return e=new qn({props:{settings:n[1]}}),e.$on("back",n[22]),e.$on("update",n[21]),{c(){He(e.$$.fragment)},m(s,i){Oe(e,s,i),t=!0},p(s,i){const o={};i[0]&2&&(o.settings=s[1]),e.$set(o)},i(s){t||(ie(e.$$.fragment,s),t=!0)},o(s){ae(e.$$.fragment,s),t=!1},d(s){Be(e,s)}}}function jn(n){let e,t,s,i,o,r,c,f,a,d,g,m=n[2]==="list"&&Tt(n),h=n[5]&&Dt(n),v=n[6]&&Ot(n),q=n[2]==="list"&&Bt(n),T=n[2]==="create"&&Nt(n),w=n[2]==="detail"&&n[4]&&jt(n),S=n[2]==="settings"&&At(n);return{c(){e=p("main"),t=p("div"),s=p("h1"),s.textContent="HIIT Timer",i=k(),m&&m.c(),o=k(),h&&h.c(),r=k(),v&&v.c(),c=k(),q&&q.c(),f=k(),T&&T.c(),a=k(),w&&w.c(),d=k(),S&&S.c(),u(s,"class","svelte-1nq3z4n"),u(t,"class","header svelte-1nq3z4n"),u(e,"class","svelte-1nq3z4n")},m(y,B){j(y,e,B),l(e,t),l(t,s),l(t,i),m&&m.m(t,null),l(e,o),h&&h.m(e,null),l(e,r),v&&v.m(e,null),l(e,c),q&&q.m(e,null),l(e,f),T&&T.m(e,null),l(e,a),w&&w.m(e,null),l(e,d),S&&S.m(e,null),g=!0},p(y,B){y[2]==="list"?m?m.p(y,B):(m=Tt(y),m.c(),m.m(t,null)):m&&(m.d(1),m=null),y[5]?h?h.p(y,B):(h=Dt(y),h.c(),h.m(e,r)):h&&(h.d(1),h=null),y[6]?v?v.p(y,B):(v=Ot(y),v.c(),v.m(e,c)):v&&(v.d(1),v=null),y[2]==="list"?q?q.p(y,B):(q=Bt(y),q.c(),q.m(e,f)):q&&(q.d(1),q=null),y[2]==="create"?T?T.p(y,B):(T=Nt(y),T.c(),T.m(e,a)):T&&(T.d(1),T=null),y[2]==="detail"&&y[4]?w?(w.p(y,B),B[0]&20&&ie(w,1)):(w=jt(y),w.c(),ie(w,1),w.m(e,d)):w&&(Je(),ae(w,1,1,()=>{w=null}),Ue()),y[2]==="settings"?S?(S.p(y,B),B[0]&4&&ie(S,1)):(S=At(y),S.c(),ie(S,1),S.m(e,null)):S&&(Je(),ae(S,1,1,()=>{S=null}),Ue())},i(y){g||(ie(w),ie(S),g=!0)},o(y){ae(w),ae(S),g=!1},d(y){y&&N(e),m&&m.d(),h&&h.d(),v&&v.d(),q&&q.d(),T&&T.d(),w&&w.d(),S&&S.d()}}}function An(n,e,t){let s=[],i={},o="list",r="",c=null,f="",a="",d=null,g="";Ht(()=>{t(0,s=yn()),t(1,i=En())});function m(){r.trim()&&(t(0,s=[...s,{id:Date.now(),name:r,exercises:[],settings:{exerciseDuration:30,restBetweenExercises:15,warmupDuration:10,numberOfSets:1,restBetweenSets:30}}]),t(3,r=""),t(2,o="list"),pe(s),z("Training erstellt!"))}function h(b,I){t(7,d=b),t(8,g=I)}function v(){if(g.trim()){const b=s.find(I=>I.id===d);b&&(b.name=g.trim(),t(0,s),pe(s),z("Training aktualisiert!"))}t(7,d=null),t(8,g="")}function q(){t(7,d=null),t(8,g="")}function T(b){const I=s.find(K=>K.id===b);if(I){const K={id:Date.now(),name:I.name+" (Kopie)",exercises:JSON.parse(JSON.stringify(I.exercises)),settings:JSON.parse(JSON.stringify(I.settings))};t(0,s=[...s,K]),pe(s),z("Training dupliziert!")}}function w(b){t(4,c=b),t(2,o="detail")}function S(){t(2,o="list"),t(4,c=null),pe(s)}function y(){t(2,o="create")}function B(){t(2,o="settings")}function U(b){confirm("Training wirklich l√∂schen?")&&(t(0,s=s.filter(I=>I.id!==b)),pe(s),z("Training gel√∂scht!"))}function M(){try{Tn(s,i,"hiit-data.json"),z("Alle Daten exportiert!")}catch(b){_(`Export fehlgeschlagen: ${b.message}`)}}function D(b){var K;const I=(K=b.target.files)==null?void 0:K[0];I&&Dn(I).then(({trainings:G,settings:$})=>{t(0,s=G),t(1,i=$),pe(s),yt(i),b.target.value="",z(`${G.length} Trainings importiert!`)}).catch(G=>{_(`Import fehlgeschlagen: ${G.message}`),b.target.value=""})}function O(b){t(1,i=b.detail),yt(i),z("Einstellungen gespeichert!")}function E(){t(2,o="list")}function z(b){t(6,a=b),setTimeout(()=>{t(6,a="")},3e3)}function _(b){t(5,f=b),setTimeout(()=>{t(5,f="")},3e3)}const J=b=>t(8,g=b.target.value),P=b=>w(b),Y=b=>h(b.id,b.name),R=b=>T(b.id),X=b=>U(b.id);function se(){r=this.value,t(3,r)}return[s,i,o,r,c,f,a,d,g,m,h,v,q,T,w,S,y,B,U,M,D,O,E,J,P,Y,R,X,se,b=>{t(0,s),pe(s)}]}class Pn extends Ne{constructor(e){super(),ze(this,e,An,jn,De,{},null,[-1,-1])}}new Pn({target:document.getElementById("app")});
